<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>AI Wiki Documenter</title>

    <!-- Very permissive CSP for development -->
    <meta http-equiv="Content-Security-Policy" content="
        default-src * 'unsafe-inline' 'unsafe-eval' data: blob:;
        script-src * 'unsafe-inline' 'unsafe-eval';
        connect-src *;
        style-src * 'unsafe-inline';
        img-src * data: blob:;
        font-src * data:;
        frame-ancestors *;
    ">

    <!-- Load Azure DevOps SDK -->
    <script src="sdk/scripts/SDK.min.js"></script>
</head>
<body>
    <div style="padding: 20px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
        <h1>ðŸ¤– AI Wiki Documenter</h1>
        <p>Welcome to the AI Wiki Documenter extension!</p>
        <p>This extension helps generate documentation for your pull requests using AI.</p>

        <div id="content">
            <h2>Getting Started</h2>
            <ul>
                <li>Navigate to a pull request</li>
                <li>Click "Add Documentation" from the actions menu</li>
                <li>Let AI generate documentation for your changes</li>
            </ul>
        </div>
    </div>

    <script>
        // Initialize VSS SDK
        VSS.init({
            explicitNotifyLoaded: true,
            usePlatformStyles: true
        });

        // Register with the VSS SDK
        VSS.ready(function() {
            console.log("AI Wiki Documenter extension loaded successfully!");

            // Get the current project context
            var webContext = VSS.getWebContext();
            console.log("Project: " + webContext.project.name);

            // Notify that the extension is ready
            VSS.notifyLoadSucceeded();
        });
    </script>
</body>
</html>